<!--
// RMIT University Vietnam
// Course: COSC2430 Web Programming
// Semester: 2023B
// Assessment: Assignment 2
// Author: Huynh Duc Gia Tin, Tran Ha Phuong, Nguyen Viet Ha, Phan Nhat Minh, Tran Nguyen Quoc An
// ID: s3962053, s3979638, s3978128, s3959931, s3978598 
// Acknowledgement: MDN Web Docs, Youtube, W3school, GeeksforGeeks, RMIT Canvas, ChatGPT, NPM Packages' Docs
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Dashboard</title>
    <meta charset="UTF-8" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />

    <link href="/css/bootstrap.css" rel="stylesheet" />
    <script src="/js/validation.js"></script>
    <link href="/css/vendor.css" rel="stylesheet" />

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600&display=swap"
      rel="stylesheet"
    />

    <!--Stylesheet-->
    <link rel="stylesheet" href="/css/vendor-dashboard.css" />
  </head>
  <body>
    <div class="background"></div>
    <nav class="navbar bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand ps-4" href="#">
          <h1>AIKIA</h1>
        </a>
      </div>
    </nav>
    
    <div class="container py-3 h-100">
      <div class="row h-100">
        <div class="col-3 h-100">
          <aside class="d-flex flex-column align-items-center py-4">
            <img
              src="/images/profilePictures/<%=vendor._id%>.jpg"
              alt="Vendor Profile Image"
              class="profile-image img-fluid px-5"
              style="max-width: 100%; border-radius: 50%"
            />
            <a href="../vendors/logout" class="btn btn-logout">Log Out</a>
            <ul class="list-group pt-3">
              <li class="list-group-item"><a href="">Dashboard</a></li>
              <li class="list-group-item">
                <a href="product">Add Products</a>
              </li>
              <li class="list-group-item">
                <a href="products">View Products</a>
              </li>
              <li class="list-group-item"><a href="me">My Account</a></li>
            </ul>
          </aside>
        </div>
        <main class="col-9 h-100 px-5">
          <h3 class="fw-bold">Welcome back, <%=vendor.data.username%></h3>
          <h6 class="lead text-body-secondary pb-5">
            This is the Vendor Dashboard. You can explore statistics about your
            business here. Use these feature to grow
            <%=vendor.data.businessName%> !
          </h6>
          <div class="row justify-content-between">
            <div class="col-lg-5 col-sm-10 link dasboard-link">
              <a
                href="products"
                class="col-second__link d-flex align-items-center"
              >
                <div class="col-second__row d-flex align-items-center">
                  <div class="col-second__icon--before pe-3">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      height="2rem"
                      fill="currentColor"
                      class="bi bi-archive-fill"
                      viewBox="0 0 16 16"
                    >
                      <path
                        fill="#00000"
                        d="M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15h9.286zM5.5 7h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zM.8 1a.8.8 0 0 0-.8.8V3a.8.8 0 0 0 .8.8h14.4A.8.8 0 0 0 16 3V1.8a.8.8 0 0 0-.8-.8H.8z"
                      />
                    </svg>
                  </div>
                  <div class="col-second__info">
                    <h2 class="col-second__heading">My Product</h2>
                    <p class="col-second__desc">
                      View, edit and delete your products here.
                    </p>
                  </div>
                  <div class="col-second__icon--after">
                    <a href="#!">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        height="1em"
                        viewBox="0 0 448 512"
                      >
                        <path
                          fill="#00000"
                          d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"
                        />
                      </svg>
                    </a>
                  </div>
                </div>
              </a>
            </div>
            <div class="col-lg-5 col-sm-10 link dasboard-link">
              <a href="me" class="col-second__link d-flex align-items-center">
                <div class="col-second__row d-flex align-items-center">
                  <div class="col-second__icon--before pe-3">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      height="2em"
                      viewBox="0 0 448 512"
                    >
                      <path
                        fill="#00000"
                        d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"
                      />
                    </svg>
                  </div>
                  <div class="col-second__info">
                    <h2 class="col-second__heading">My Account</h2>
                    <p class="col-second__desc">
                      Edit your name or Change your password
                    </p>
                  </div>
                  <div class="col-second__icon--after">
                    <a href="#!">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        height="1em"
                        viewBox="0 0 448 512"
                      >
                        <path
                          fill="#00000"
                          d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"
                        />
                      </svg>
                    </a>
                  </div>
                </div>
              </a>
            </div>
          </div>
          <div class="d-flex flex-wrap">
            <div class="pt-4" style="width: 70%">
              <canvas id="bar-chart"></canvas>
            </div>
            <div class="pt-4" style="width: 30%">
              <canvas id="pie-chart"></canvas>
            </div>
          </div>
        </main>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const barData = [
          { year: "JAN", count: 10 },
          { year: "FEB", count: 20 },
          { year: "MAR", count: 15 },
          { year: "APR", count: 25 },
          { year: "MAY", count: 22 },
          { year: "JUN", count: 30 },
          { year: "JUL", count: 28 },
          { year: "AUG", count: 28 },
          { year: "SEP", count: 20 },
          { year: "OCT", count: 10 },
          { year: "NOV", count: 28 },
          { year: "DEC", count: 23 },
        ];

        const pieData = {
          labels: ["COMPLETED", "CANCELD", "ACTIVE"],
          datasets: [
            {
              label: "My First Dataset",
              data: [300, 50, 100],
              backgroundColor: [
                "rgb(255, 99, 132)",
                "rgb(54, 162, 235)",
                "rgb(255, 205, 86)",
              ],
              hoverOffset: 4,
            },
          ],
        };

        new Chart(document.getElementById("pie-chart"), {
          type: "doughnut",
          data: pieData,
        });
        new Chart(document.getElementById("bar-chart"), {
          type: "bar",
          data: {
            labels: barData.map((row) => row.year),
            datasets: [
              {
                label: "Product sold by month",
                data: barData.map((row) => row.count),
                backgroundColor: "rgba(75, 192, 192, 0.2)",
              },
            ],
          },
        });
      });
    </script>
  </body>
</html>
